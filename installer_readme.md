# Руководство по созданию установщика MajestyCompiler

## Подготовка к созданию установщика

### 1. Установите Inno Setup

Для создания установщика Вам потребуется установить Inno Setup:

1. Скачайте Inno Setup с официального сайта: [https://jrsoftware.org/isdl.php](https://jrsoftware.org/isdl.php)
2. Установите программу с настройками по умолчанию
3. Убедитесь, что ISCC.exe находится в одной из следующих папок:
   - `C:\Program Files (x86)\Inno Setup 6\ISCC.exe`
   - `C:\Program Files\Inno Setup 6\ISCC.exe`

### 2. Соберите приложение

Перед созданием установщика необходимо собрать приложение:

1. Запустите `build_exe.bat` для создания исполняемого файла
2. Проверьте, что в папке `dist` находятся файлы:
   - `MajestyCompiler.exe`
   - `majesty_icon.ico`

## Создание установщика

Существует два способа создания установщика:

### Способ 1: Автоматическая сборка (рекомендуется)

1. Запустите файл `build_installer.bat`
2. Скрипт автоматически выполнит все необходимые проверки и создаст установщик
3. По завершении, установщик будет доступен в папке `installer\MajestyCompiler_Setup.exe`

### Способ 2: Ручная сборка через Inno Setup

1. Откройте файл `MajestyCompiler_setup.iss` в Inno Setup
2. Нажмите кнопку "Compile" (Зеленая стрелка) на панели инструментов
3. Дождитесь окончания компиляции
4. По завершении, установщик будет доступен в папке `installer\MajestyCompiler_Setup.exe`

## Использование установщика

### Возможности установщика

Установщик предоставляет следующие возможности:

1. Выбор папки установки приложения
2. Создание ярлыка на рабочем столе (по желанию пользователя)
3. Создание ярлыка в меню "Пуск" (создается автоматически)
4. Запуск приложения сразу после установки (по желанию пользователя)

### Процесс установки

1. Запустите `MajestyCompiler_Setup.exe`
2. Следуйте инструкциям мастера установки:
   - Выберите язык установки (русский)
   - Прочитайте и примите лицензионное соглашение
   - Выберите папку установки
   - Отметьте необходимые опции (ярлык на рабочем столе)
   - Дождитесь окончания установки
   - При желании запустите приложение сразу после установки

## Настройка параметров установщика

Если Вам нужно изменить параметры установщика, отредактируйте файл `MajestyCompiler_setup.iss`:

- `MyAppName` - название приложения
- `MyAppVersion` - версия приложения
- `MyAppPublisher` - издатель приложения
- `MyAppURL` - сайт приложения
- `SetupIconFile` - иконка для самого установщика
- `OutputBaseFilename` - имя выходного файла установщика

После изменения параметров заново запустите `build_installer.bat` для создания обновленного установщика.

## Важные примечания

- Установщик настроен на минимальные требования прав (уровень "lowest"), что позволяет устанавливать приложение без прав администратора
- При необходимости пользователь может выбрать установку с правами администратора через диалог UAC
- Установщик работает на всех версиях Windows от 7 и выше 